<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="ShowX: Download Android APKs, tools, mods, and stay updated with the latest news.">
  <title>ShowX - Connecting Ideas</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="icon" href="LOGO.png" type="image/png">
  <link rel="stylesheet" href="style.css">
  <!-- PapaParse para parsear CSV -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
</head>
<body>
<!-- === NAVIGATION === -->
<nav>
  <a href="#home" class="logo">
    <img src="LOGO.png" alt="ShowX Logo">
  </a>
  <a href="#home">HOME</a>
  <div class="dropdown">
    <a href="#categorias" class="dropbtn" aria-label="Men√∫ de categor√≠as">CATEGOR√çAS ‚ñæ</a>
    <div class="dropdown-content">
      <a href="#video">VIDEO</a>
      <a href="#games">GAMES</a>
      <a href="#modding">MOD</a>
    </div>
  </div>
  <a href="#news">NEWS</a>
  <a href="#contact">CONTACT</a>
  <a href="#support">SUPPORT ME</a>
</nav>

<!-- === HERO SECTION === -->
<header id="home" class="hero">
  <div class="hero-content">
    <h1>Welcome to <span>ShowX</span> üöÄ</h1>
    <p>Connecting ideas, people, and experiences.</p>
    <a href="#apks" class="btn">Explore APKs</a>
  </div>
</header>

<!-- === APK SECTION === -->
<section id="apks">
  <div class="container">
    <h2>ANDROID üì±</h2>
    <p>APKS, MODS, ISOS, PELICULAS, PROGRAMAS LINKS UTILES Y MAS.</p>
  
    <!-- === SEARCH BAR === -->
    <div class="search-bar">
      <input type="text" id="search-input" placeholder="Search..." aria-label="Search">
    </div>
  
    <!-- === CATEGORY FILTERS === -->
    <div class="apk-filters">
      <button class="filter-btn active" data-category="all">APK</button>
      <button class="filter-btn" data-category="video">VIDEO</button>
      <button class="filter-btn" data-category="games">GAMES</button>
      <button class="filter-btn" data-category="modding">MOD</button>
    </div>
  
    <!-- === APK GRID === -->
    <div class="apk-grid" id="apk-grid"></div>
    <div id="error" style="display: none; color: red;">Error al cargar APKs</div>
  </div>
</section>

<!-- === NEWS SECTION === -->
<section id="news">
  <div class="container">
    <h2>Latest News üì∞</h2>
    <p>Stay updated with the latest announcements, APK releases, and tips for developers.</p>
    <div class="news-grid">
      <div class="news-card">
        <h3>Coming Soon: New Tools</h3>
        <p>We're working on exciting new tools for Android development. Stay tuned!</p>
      </div>
      <div class="news-card">
        <h3>APK Update v2.0</h3>
        <p>Updated versions of popular APKs with improved performance.</p>
      </div>
    </div>
  </div>
</section>

<!-- === CONTACT SECTION === -->
<section id="contact">
  <div class="container">
    <h2>Contact Us üì¨</h2>
    <p>Have questions or suggestions? Reach out to us!</p>
    <form class="contact-form">
      <input type="text" placeholder="Your Name" required>
      <input type="email" placeholder="Your Email" required>
      <textarea placeholder="Your Message" required></textarea>
      <button type="submit" class="btn">Send Message</button>
    </form>
  </div>
</section>

<!-- === FOOTER === -->
<footer>
  <p>&copy; 2025 ShowX. All rights reserved.</p>
</footer>

<!-- === JS FILTER, SEARCH, AND DYNAMIC APKS === -->
<script>
  // Determinar categor√≠as basadas en nombre y descripci√≥n
  function getCategories(name, description) {
    const lowerName = name.toLowerCase();
    const lowerDesc = description.toLowerCase();
    const categories = [];

    if (lowerName.includes('capcut') || lowerDesc.includes('edici√≥n') || lowerDesc.includes('video')) {
      categories.push('Edici√≥n de Video');
    }
    if (lowerName.includes('simulator') || lowerDesc.includes('juego') || lowerDesc.includes('game')) {
      categories.push('Juego');
    }
    if (lowerName.includes('mod') || lowerDesc.includes('mod')) {
      categories.push('Modding');
    }

    return categories.length > 0 ? categories : ['App'];
  }

  // Cargar datos desde Google Sheets (CSV)
  async function loadApks() {
    try {
      Papa.parse('https://docs.google.com/spreadsheets/d/e/2PACX-1vTUbapksr6zWszFpUjeWR6jPS6QOA6OL7iuO4ew9gASwx5LLzR9o-bKbRXSLQv360GQBoINiSpdzIGf/pub?gid=1055416471&single=true&output=csv', {
        download: true,
        header: true,
        complete: function(results) {
          const apkGrid = document.getElementById('apk-grid');
          apkGrid.innerHTML = ''; // Limpia el grid

          results.data.forEach(row => {
            const name = row.Nombre || 'Sin nombre';
            const description = row.Descripci√≥n || 'Sin descripci√≥n';
            const url = row.URL_Descarga || '#';
            const image = row.URL_Imagen || 'https://img.freepik.com/vector-premium/icono-android-icono-relleno-negro_1076610-103538.jpg?semt=ais_hybrid&w=740&q=80';
            const rating = row.Calificaci√≥n || '3.8';

            // Obtener categor√≠as din√°micamente
            const categories = getCategories(name, description);
            const categoryData = categories.map(c => c.toLowerCase().replace(/ /g, '')).join(' ');
            const tags = categories.map(tag => `<span class="tag">${tag}</span>`).join('');

            const apkCard = document.createElement('div');
            apkCard.className = 'apk-card';
            apkCard.dataset.category = categoryData;
            apkCard.innerHTML = `
              <img src="${image}" alt="${name} icon">
              <div class="apk-tags">${tags}</div>
              <h3>${name}</h3>
              <p>${description}</p>
              <div class="apk-rating">‚≠ê ${rating}</div>
              <a href="${url}" target="_blank" class="btn" tabindex="0">DOWNLOAD</a>
            `;
            apkGrid.appendChild(apkCard);
          });
        },
        error: function(err) {
          console.error('Error parsing CSV:', err);
          document.getElementById('error').style.display = 'block';
        }
      });
    } catch (err) {
      console.error('Error loading APKs:', err);
      document.getElementById('error').style.display = 'block';
    }
  }

  // Llamar a la funci√≥n al cargar la p√°gina
  loadApks();

  // Filtrado por categor√≠a
  const filterButtons = document.querySelectorAll('.filter-btn');
  const apkGrid = document.getElementById('apk-grid');

  filterButtons.forEach(button => {
    button.addEventListener('click', () => {
      filterButtons.forEach(btn => btn.classList.remove('active'));
      button.classList.add('active');

      const category = button.dataset.category;
      const apkCards = apkGrid.querySelectorAll('.apk-card');

      apkCards.forEach(card => {
        const categories = card.dataset.category.split(' ');
        card.style.display = category === 'all' || categories.includes(category) ? 'block' : 'none';
      });
    });
  });

  // B√∫squeda en tiempo real
  const searchInput = document.querySelector('#search-input');

  searchInput.addEventListener('input', () => {
    const searchTerm = searchInput.value.toLowerCase();
    const apkCards = apkGrid.querySelectorAll('.apk-card');

    apkCards.forEach(card => {
      const title = card.querySelector('h3').textContent.toLowerCase();
      const description = card.querySelector('p').textContent.toLowerCase();
      const tags = card.querySelector('.apk-tags') ? card.querySelector('.apk-tags').textContent.toLowerCase() : '';
      const rating = card.querySelector('.apk-rating') ? card.querySelector('.apk-rating').textContent.toLowerCase() : '';
      const matchesSearch = title.includes(searchTerm) || description.includes(searchTerm) || tags.includes(searchTerm) || rating.includes(searchTerm);

      card.style.display = matchesSearch ? 'block' : 'none';
    });

    if (searchTerm) {
      filterButtons.forEach(btn => btn.classList.remove('active'));
    }
  });
</script>
</body>
</html>
